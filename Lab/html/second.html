<html>
<head>
    <title>reCAPTCHA demo: Explicit render after an onload callback</title>
    <script type="text/javascript">
        var onloadCallback = function() {
            grecaptcha.ready(function() {
                grecaptcha.render('6LeVPN4UAAAAAKceUc88CvyFxc52-unnA2lAfVyN', {action: 'homepage'}).then(function(token) {
                    console.log(token);
                });
            })
            /*    grecaptcha.render('html_element', {
                    'sitekey' : '6LeVPN4UAAAAAKceUc88CvyFxc52-unnA2lAfVyN'
                });*/
        };
    </script>
    <script src="https://www.google.com/recaptcha/api.js?render=6LeVPN4UAAAAAKceUc88CvyFxc52-unnA2lAfVyN"></script>
    <script>
        grecaptcha.ready(function() {
            grecaptcha.execute('6LeVPN4UAAAAAKceUc88CvyFxc52-unnA2lAfVyN', {action: 'homepage'}).then(function(token) {
                console.log(token);
            });
        });
    </script>
</head>
<body>
<form action="?" method="POST">
    <div id="html_element"></div>
    <br>
    <input type="submit" value="Submit">
</form>
<script src="https://www.google.com/recaptcha/api.js?onload=onloadCallback&render=explicit"
        async defer>
</script>
</body>
</html>
